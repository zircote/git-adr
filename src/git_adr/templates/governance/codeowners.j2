# CODEOWNERS for Architecture Decision Records
# Generated by: git adr templates codeowners
#
# This file defines code ownership for ADR-related changes.
# Add this content to your repository's CODEOWNERS file.
#
# Learn more: https://docs.github.com/en/repositories/managing-your-repositorys-settings-and-features/customizing-your-repository/about-code-owners

# =============================================================================
# ADR Governance Rules
# =============================================================================

{% if adr_directory %}
# File-based ADRs (if any exist)
{{ adr_directory }}/**/*.md {{ team | default('@architecture-team') }}

{% endif %}
# Git notes configuration (affects ADR sync behavior)
.git-adr.yaml {{ team | default('@architecture-team') }}
.gitattributes {{ team | default('@architecture-team') }}

{% if protected_paths %}
# Protected architectural paths requiring ADR review
{% for path in protected_paths %}
{{ path }} {{ team | default('@architecture-team') }}
{% endfor %}

{% endif %}
{% if api_paths %}
# API definitions (changes may require architectural review)
{% for path in api_paths %}
{{ path }} {{ team | default('@architecture-team') }} {{ api_reviewers | default('') }}
{% endfor %}

{% endif %}
{% if schema_paths %}
# Database schemas and migrations
{% for path in schema_paths %}
{{ path }} {{ team | default('@architecture-team') }} {{ dba_reviewers | default('') }}
{% endfor %}

{% endif %}
{% if infra_paths %}
# Infrastructure as Code
{% for path in infra_paths %}
{{ path }} {{ team | default('@architecture-team') }} {{ devops_reviewers | default('') }}
{% endfor %}

{% endif %}
# =============================================================================
# Usage Notes
# =============================================================================
#
# 1. Copy relevant sections to your repository's CODEOWNERS file
# 2. Customize team handles to match your organization
# 3. Add/remove paths based on your project structure
#
# For git-adr stored in git notes (recommended):
#   - Notes are not in the working tree, so CODEOWNERS doesn't apply directly
#   - Use CI/CD validation workflows instead
#   - See: git adr ci github --validate
#
# For projects with both file-based and notes-based ADRs:
#   - Include the adr_directory pattern above
#   - Configure git-adr to sync between formats if needed
